<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lemon Hub - Best Steal A Brainrot Script</title>
    <link rel="icon" type="image/png" href="https://imagizer.imageshack.com/img922/3774/Sk58gA.png">
    <style>
        /* COMPLETE CSS FROM YOUR STYLE.CSS - COMBINED */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%); min-height: 100vh; overflow-x: hidden; position: relative; color: #ffffff; }
        .lemon-doodles { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; }
        .lemon { position: absolute; font-size: 2rem; opacity: 0.05; animation: float 6s ease-in-out infinite; filter: brightness(0.8); }
        .lemon1 { top: 10%; left: 10%; animation-delay: 0s; }
        .lemon2 { top: 20%; right: 15%; animation-delay: 1s; }
        .lemon3 { bottom: 30%; left: 20%; animation-delay: 2s; }
        .lemon4 { bottom: 15%; right: 25%; animation-delay: 3s; }
        .lemon5 { top: 50%; right: 10%; animation-delay: 4s; }
        @keyframes float { 0%, 100% { transform: translateY(0px) rotate(0deg); } 50% { transform: translateY(-20px) rotate(180deg); } }
        .navbar { background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(10px); padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; position: relative; z-index: 10; box-shadow: 0 2px 20px rgba(255, 215, 0, 0.1); border-bottom: 1px solid rgba(255, 215, 0, 0.2); }
        .nav-brand { display: flex; align-items: center; gap: 1rem; }
        .logo { width: 50px; height: 50px; border-radius: 50%; object-fit: cover; border: 2px solid #ffd700; }
        .brand-name { font-size: 1.5rem; font-weight: bold; color: #ffd700; text-shadow: 0 0 10px rgba(255, 215, 0, 0.5); }
        .nav-menu { display: flex; gap: 1rem; align-items: center; }
        .nav-btn { padding: 0.8rem 1.5rem; border: none; background: rgba(255, 215, 0, 0.1); color: #ffd700; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s ease; border: 1px solid rgba(255, 215, 0, 0.3); }
        .nav-btn:hover, .nav-btn.active { background: rgba(255, 215, 0, 0.2); transform: translateY(-2px); box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3); border-color: #ffd700; }
        .user-profile { display: flex; align-items: center; gap: 0.8rem; padding: 0.5rem 1rem; background: rgba(255, 215, 0, 0.1); border-radius: 8px; border: 1px solid rgba(255, 215, 0, 0.3); cursor: pointer; position: relative; transition: all 0.3s ease; }
        .user-profile:hover { background: rgba(255, 215, 0, 0.2); transform: translateY(-1px); }
        .user-avatar { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; border: 2px solid #ffd700; }
        .user-name { color: #ffd700; font-weight: 600; font-size: 0.9rem; }
        .profile-dropdown { position: absolute; top: 100%; right: 2rem; background: rgba(30, 30, 30, 0.95); backdrop-filter: blur(20px); border-radius: 12px; padding: 0.5rem; min-width: 200px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 215, 0, 0.3); z-index: 1000; display: none; animation: dropdownFade 0.2s ease-out; }
        @keyframes dropdownFade { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .profile-dropdown.show { display: block; }
        .dropdown-item { display: flex; align-items: center; gap: 0.8rem; padding: 0.8rem 1rem; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; color: #ffffff; text-decoration: none; }
        .dropdown-item:hover { background: rgba(255, 215, 0, 0.1); transform: translateX(5px); }
        .dropdown-item.logout { color: #f44336; }
        .dropdown-item.logout:hover { background: rgba(244, 67, 54, 0.1); }
        .dropdown-icon { width: 18px; height: 18px; }
        .dropdown-divider { height: 1px; background: rgba(255, 255, 255, 0.1); margin: 0.5rem 0; }
        .container { padding: 2rem; position: relative; z-index: 5; max-width: 1200px; margin: 0 auto; }
        .section { display: none; animation: fadeIn 0.5s ease-in-out; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .hero { text-align: center; margin-bottom: 4rem; }
        .hero-title { font-size: 3.5rem; color: #ffd700; margin-bottom: 1rem; text-shadow: 0 0 20px rgba(255, 215, 0, 0.5); background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .hero-subtitle { font-size: 1.3rem; color: #cccccc; margin-bottom: 2rem; }
        .game-link-section { text-align: center; margin: 3rem 0; padding: 2rem; background: rgba(255, 215, 0, 0.05); border-radius: 15px; border: 1px solid rgba(255, 215, 0, 0.2); }
        .game-link-title { font-size: 1.5rem; color: #ffd700; margin-bottom: 1.5rem; text-shadow: 0 0 10px rgba(255, 215, 0, 0.3); }
        .game-link-btn { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.8rem 1.5rem; background: linear-gradient(45deg, #ff6b00, #ff8c00); color: white; text-decoration: none; border-radius: 8px; font-weight: 600; font-size: 1rem; transition: all 0.3s ease; margin-bottom: 1.5rem; border: none; cursor: pointer; }
        .game-link-btn:hover { background: linear-gradient(45deg, #ff8c00, #ff6b00); transform: translateY(-2px); box-shadow: 0 8px 20px rgba(255, 107, 0, 0.4); }
        .game-icon { width: 18px; height: 18px; }
        .voting-section { display: flex; justify-content: center; gap: 1rem; margin-top: 1.5rem; flex-wrap: wrap; }
        .vote-btn { display: flex; align-items: center; gap: 0.5rem; padding: 0.6rem 1rem; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; cursor: pointer; font-weight: 500; transition: all 0.3s ease; font-size: 0.9rem; }
        .vote-btn:hover { background: rgba(255, 255, 255, 0.15); transform: translateY(-2px); }
        .vote-btn.thumbs-up:hover { background: rgba(76, 175, 80, 0.2); border-color: #4CAF50; }
        .vote-btn.thumbs-down:hover { background: rgba(244, 67, 54, 0.2); border-color: #f44336; }
        .vote-btn.favorite:hover { background: rgba(255, 193, 7, 0.2); border-color: #ffc107; }
        .vote-count { background: rgba(255, 255, 255, 0.1); padding: 0.2rem 0.5rem; border-radius: 12px; font-size: 0.8rem; font-weight: 600; }
        .vote-icon { width: 16px; height: 16px; }
        .discord-invitation { display: flex; justify-content: center; margin: 3rem 0; }
        .invitation-card { background: #2f3136; border-radius: 12px; width: 100%; max-width: 400px; overflow: hidden; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3); color: white; animation: inviteGlow 2s ease-in-out infinite alternate; border: 1px solid rgba(255, 215, 0, 0.3); }
        @keyframes inviteGlow { 0% { box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3); } 100% { box-shadow: 0 8px 32px rgba(255, 215, 0, 0.2); } }
        .invitation-header { display: flex; align-items: center; padding: 16px; gap: 12px; background: #36393f; border-bottom: 1px solid rgba(255, 215, 0, 0.2); }
        .server-icon { width: 48px; height: 48px; border-radius: 50%; object-fit: cover; border: 2px solid #ffd700; }
        .server-info { flex: 1; }
        .server-name { font-size: 16px; font-weight: 600; color: #ffd700; margin: 0; }
        .invitation-body { padding: 20px 16px; text-align: center; }
        .invitation-text { font-size: 14px; color: #b9bbbe; margin: 0 0 4px 0; text-transform: uppercase; font-weight: 600; letter-spacing: 0.5px; }
        .server-title { font-size: 24px; font-weight: 600; color: #ffffff; margin: 0 0 8px 0; }
        .invitation-desc { font-size: 14px; color: #b9bbbe; margin: 0 0 20px 0; }
        .invitation-footer { padding: 0 16px 20px 16px; text-align: center; }
        .accept-invite-btn { display: inline-flex; align-items: center; gap: 8px; padding: 12px 24px; background: linear-gradient(45deg, #5865f2, #4752c4); color: white; text-decoration: none; border-radius: 4px; font-weight: 500; font-size: 14px; transition: all 0.2s ease; width: 100%; justify-content: center; margin-bottom: 8px; border: none; cursor: pointer; }
        .accept-invite-btn:hover { background: linear-gradient(45deg, #4752c4, #3c45a5); transform: translateY(-1px); box-shadow: 0 4px 12px rgba(88, 101, 242, 0.4); }
        .discord-icon { width: 16px; height: 16px; }
        .features-title { text-align: center; font-size: 2.5rem; color: #ffd700; margin-bottom: 2rem; text-shadow: 0 0 15px rgba(255, 215, 0, 0.3); }
        .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; }
        .feature-card { background: rgba(255, 255, 255, 0.05); padding: 2rem; border-radius: 15px; text-align: center; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2); transition: all 0.3s ease; border: 1px solid rgba(255, 215, 0, 0.1); backdrop-filter: blur(10px); }
        .feature-card:hover { transform: translateY(-5px); box-shadow: 0 12px 35px rgba(255, 215, 0, 0.2); border-color: rgba(255, 215, 0, 0.3); }
        .feature-icon { width: 60px; height: 60px; margin: 0 auto 1rem auto; background: rgba(255, 215, 0, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 2px solid rgba(255, 215, 0, 0.3); }
        .feature-icon svg { width: 30px; height: 30px; fill: #ffd700; }
        .feature-card h3 { color: #ffd700; margin-bottom: 1rem; font-size: 1.3rem; }
        .feature-card p { color: #cccccc; line-height: 1.6; }
        .script-container { text-align: center; max-width: 800px; margin: 0 auto; }
        .script-title { font-size: 3rem; color: #ffd700; margin-bottom: 2rem; text-shadow: 0 0 15px rgba(255, 215, 0, 0.3); }
        .script-logo { width: 200px; height: 200px; border-radius: 20px; object-fit: cover; margin-bottom: 2rem; box-shadow: 0 0 0 4px rgba(255, 215, 0, 0.3), 0 0 30px rgba(255, 215, 0, 0.4), 0 0 60px rgba(255, 215, 0, 0.2); border: 2px solid rgba(255, 215, 0, 0.5); position: relative; animation: logoGlow 3s ease-in-out infinite alternate; }
        .script-logo::before { content: ''; position: absolute; top: -6px; left: -6px; right: -6px; bottom: -6px; background: linear-gradient(45deg, rgba(255, 215, 0, 0.8) 0%, rgba(255, 255, 255, 0.3) 25%, rgba(255, 215, 0, 0.8) 50%, rgba(255, 255, 255, 0.3) 75%, rgba(255, 215, 0, 0.8) 100%); border-radius: 24px; z-index: -1; animation: borderGlow 2s linear infinite; }
        @keyframes logoGlow { 0% { box-shadow: 0 0 0 4px rgba(255, 215, 0, 0.3), 0 0 20px rgba(255, 215, 0, 0.4), 0 0 40px rgba(255, 215, 0, 0.2); } 100% { box-shadow: 0 0 0 4px rgba(255, 215, 0, 0.5), 0 0 40px rgba(255, 215, 0, 0.6), 0 0 80px rgba(255, 215, 0, 0.4); } }
        @keyframes borderGlow { 0% { opacity: 0.7; } 50% { opacity: 1; } 100% { opacity: 0.7; } }
        .script-box { background: rgba(30, 30, 30, 0.9); border-radius: 15px; overflow: hidden; box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3); margin-bottom: 2rem; border: 1px solid rgba(255, 215, 0, 0.2); }
        .script-header { display: flex; justify-content: space-between; align-items: center; background: linear-gradient(45deg, #2d2d2d, #1a1a1a); color: #ffd700; padding: 1rem 1.5rem; border-bottom: 1px solid rgba(255, 215, 0, 0.3); }
        .script-label { font-weight: bold; font-size: 1.1rem; }
        .copy-btn { display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; background: linear-gradient(45deg, #4CAF50, #45a049); color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; transition: all 0.3s ease; }
        .copy-btn:hover { background: linear-gradient(45deg, #45a049, #3d8b40); transform: translateY(-1px); box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4); }
        .copy-icon { width: 16px; height: 16px; }
        .script-code { background: #1e1e1e; color: #f8f8f2; padding: 2rem; font-family: 'Courier New', monospace; font-size: 1rem; line-height: 1.6; word-break: break-all; text-align: left; border: 1px solid rgba(255, 215, 0, 0.1); }
        .script-instructions { color: #cccccc; font-size: 1.1rem; font-style: italic; margin-top: 1rem; }
        .executor-compatibility { background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 235, 59, 0.08) 50%, rgba(255, 215, 0, 0.05) 100%); border-radius: 20px; padding: 2.5rem; margin-top: 2rem; box-shadow: 0 10px 30px rgba(255, 193, 7, 0.1), 0 0 0 1px rgba(255, 235, 59, 0.1); position: relative; overflow: hidden; backdrop-filter: blur(10px); border: 1px solid rgba(255, 215, 0, 0.2); }
        .executor-compatibility::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="30" opacity="0.03" fill="%23ffd700">LH</text></svg>') repeat; background-size: 80px 80px; animation: lemonPattern 20s linear infinite; pointer-events: none; }
        @keyframes lemonPattern { 0% { transform: translateX(0) translateY(0); } 100% { transform: translateX(80px) translateY(80px); } }
        .compatibility-title { font-size: 2.2rem; font-weight: 700; background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: 2rem; text-align: center; position: relative; z-index: 2; text-shadow: 0 2px 4px rgba(0,0,0,0.1); font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif; }
        .compatibility-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1.2rem; margin-bottom: 2.5rem; position: relative; z-index: 2; }
        .executor-item { display: flex; align-items: center; gap: 1rem; padding: 1rem 1.3rem; border-radius: 12px; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); cursor: pointer; position: relative; overflow: hidden; backdrop-filter: blur(10px); font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif; border: 1px solid rgba(255, 255, 255, 0.1); }
        .executor-item::before { content: ''; position: absolute; top: 10px; right: 10px; width: 20px; height: 20px; background: rgba(255, 255, 255, 0.1); border-radius: 50%; opacity: 0; transition: opacity 0.3s ease; }
        .executor-item:hover::before { opacity: 1; }
        .executor-item:hover { transform: translateY(-3px) scale(1.02); box-shadow: 0 8px 25px rgba(255, 193, 7, 0.2); }
        .executor-item.supported { background: linear-gradient(135deg, rgba(139, 195, 74, 0.15), rgba(76, 175, 80, 0.1)); border: 1px solid rgba(139, 195, 74, 0.3); }
        .executor-item.krnl-android { background: linear-gradient(135deg, rgba(139, 195, 74, 0.15), rgba(76, 175, 80, 0.1)); border: 1px solid rgba(139, 195, 74, 0.3); }
        .executor-item.krnl-ios { background: linear-gradient(135deg, rgba(255, 193, 7, 0.2), rgba(255, 152, 0, 0.15)); border: 1px solid rgba(255, 193, 7, 0.4); }
        .executor-item.detected { background: linear-gradient(135deg, rgba(255, 152, 0, 0.15), rgba(255, 87, 34, 0.1)); border: 1px solid rgba(255, 152, 0, 0.3); }
        .status-icon { font-size: 1.4rem; min-width: 28px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); }
        .executor-name { font-weight: 600; font-size: 1.1rem; color: #ffffff; letter-spacing: 0.3px; }
        .compatibility-legend { border-top: 1px solid rgba(255, 193, 7, 0.2); padding-top: 2rem; position: relative; z-index: 2; background: rgba(255, 255, 255, 0.05); border-radius: 15px; padding: 2rem; backdrop-filter: blur(5px); }
        .legend-item { display: flex; align-items: center; gap: 1rem; padding: 0.8rem 0; font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif; transition: all 0.2s ease; border-radius: 8px; cursor: pointer; position: relative; overflow: hidden; }
        .legend-item:hover { background: rgba(255, 255, 255, 0.05); transform: translateX(5px); }
        .legend-icon { font-size: 1.2rem; min-width: 28px; filter: drop-shadow(0 1px 2px rgba(0,0,0,0.3)); }
        .legend-text { color: #ffffff; font-size: 1rem; font-weight: 500; line-height: 1.5; }
        .ripple { position: relative; overflow: hidden; }
        .ripple::after { content: ''; position: absolute; width: 100px; height: 100px; background: rgba(255, 255, 255, 0.1); border-radius: 50%; transform: scale(0); animation: rippleAnimation 0.6s ease-out; pointer-events: none; }
        @keyframes rippleAnimation { 0% { transform: scale(0); opacity: 0.7; } 100% { transform: scale(2); opacity: 0; } }
        .executor-compatibility .lemon-float { position: absolute; font-size: 1.5rem; opacity: 0.05; pointer-events: none; z-index: 1; color: #ffd700; }
        .lemon-float-1 { top: 20%; left: 5%; animation: floatLemon 8s ease-in-out infinite; }
        .lemon-float-2 { top: 70%; right: 8%; animation: floatLemon 6s ease-in-out infinite 2s; }
        .lemon-float-3 { bottom: 30%; left: 10%; animation: floatLemon 7s ease-in-out infinite 1s; }
        @keyframes floatLemon { 0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.05; } 50% { transform: translateY(-15px) rotate(180deg); opacity: 0.1; } }
        .ad-container { margin: 20px auto; text-align: center; padding: 10px; background: rgba(255, 255, 255, 0.05); border-radius: 10px; max-width: 468px; min-height: 60px; border: 1px solid rgba(255, 215, 0, 0.1); }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.8); backdrop-filter: blur(5px); }
        .modal-content { background: linear-gradient(135deg, #2d2d2d 0%, #1a1a1a 100%); margin: 5% auto; padding: 2rem; border-radius: 15px; width: 90%; max-width: 400px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); border: 1px solid rgba(255, 215, 0, 0.3); position: relative; animation: modalFadeIn 0.3s ease-out; }
        @keyframes modalFadeIn { from { opacity: 0; transform: translateY(-50px); } to { opacity: 1; transform: translateY(0); } }
        .close { color: #ffd700; float: right; font-size: 28px; font-weight: bold; cursor: pointer; transition: all 0.3s ease; }
        .close:hover { color: #ffed4e; transform: scale(1.1); }
        .modal-header { text-align: center; margin-bottom: 2rem; }
        .modal-logo { width: 60px; height: 60px; border-radius: 50%; object-fit: cover; margin: 0 auto 1rem auto; border: 2px solid #ffd700; }
        .modal-content h2 { color: #ffd700; text-align: center; margin-bottom: 1.5rem; font-size: 1.8rem; }
        .auth-form { display: flex; flex-direction: column; gap: 1.5rem; }
        .form-group { display: flex; flex-direction: column; gap: 0.5rem; }
        .form-group label { color: #ffd700; font-weight: 600; font-size: 0.9rem; }
        .auth-form input { padding: 0.8rem 1rem; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; background: rgba(255, 255, 255, 0.1); color: white; font-size: 0.9rem; transition: all 0.3s ease; }
        .auth-form input:focus { outline: none; border-color: #ffd700; background: rgba(255, 255, 255, 0.15); box-shadow: 0 0 0 2px rgba(255, 215, 0, 0.1); }
        .auth-form input::placeholder { color: #b9bbbe; }
        .auth-btn { padding: 0.8rem 1.5rem; border: none; border-radius: 8px; font-weight: 600; font-size: 0.9rem; cursor: pointer; transition: all 0.3s ease; width: 100%; }
        .primary-btn { background: linear-gradient(45deg, #ff6b00, #ff8c00); color: white; }
        .primary-btn:hover { background: linear-gradient(45deg, #ff8c00, #ff6b00); transform: translateY(-2px); box-shadow: 0 4px 12px rgba(255, 107, 0, 0.4); }
        .auth-switch { text-align: center; margin-top: 1.5rem; color: #b9bbbe; font-size: 0.9rem; }
        .auth-switch a { color: #ffd700; text-decoration: none; font-weight: 600; }
        .auth-switch a:hover { text-decoration: underline; }
        .profile-container { max-width: 800px; margin: 0 auto; }
        .profile-header { text-align: center; margin-bottom: 3rem; }
        .profile-title { font-size: 3rem; color: #ffd700; margin-bottom: 1rem; text-shadow: 0 0 15px rgba(255, 215, 0, 0.3); }
        .profile-subtitle { font-size: 1.2rem; color: #cccccc; }
        .profile-content { display: grid; gap: 2rem; }
        .profile-card { background: rgba(255, 255, 255, 0.05); padding: 2.5rem; border-radius: 20px; text-align: center; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2); border: 1px solid rgba(255, 215, 0, 0.1); backdrop-filter: blur(10px); }
        .profile-avatar-section { margin-bottom: 2rem; }
        .avatar-container { position: relative; display: inline-block; margin-bottom: 1.5rem; }
        .profile-avatar { width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 4px solid #ffd700; box-shadow: 0 0 20px rgba(255, 215, 0, 0.3); }
        .avatar-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.7); border-radius: 50%; display: flex; align-items: center; justify-content: center; opacity: 0; transition: all 0.3s ease; cursor: pointer; }
        .avatar-container:hover .avatar-overlay { opacity: 1; }
        .camera-icon { width: 32px; height: 32px; color: #ffd700; }
        .profile-username { font-size: 1.8rem; color: #ffd700; margin-bottom: 0.5rem; font-weight: 600; }
        .profile-email { color: #cccccc; font-size: 1rem; margin-bottom: 1.5rem; }
        .change-avatar-btn { background: rgba(255, 215, 0, 0.1); color: #ffd700; border: 1px solid rgba(255, 215, 0, 0.3); padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s ease; }
        .change-avatar-btn:hover { background: rgba(255, 215, 0, 0.2); transform: translateY(-2px); box-shadow: 0 4px 12px rgba(255, 215, 0, 0.2); }
        .profile-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 1.5rem; margin-top: 2rem; }
        .stat-item { text-align: center; padding: 1.5rem; background: rgba(255, 255, 255, 0.05); border-radius: 12px; border: 1px solid rgba(255, 215, 0, 0.1); }
        .stat-number { font-size: 2rem; font-weight: 700; color: #ffd700; margin-bottom: 0.5rem; }
        .stat-label { color: #cccccc; font-size: 0.9rem; }
        .profile-actions { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; }
        .profile-action-btn { display: flex; align-items: center; justify-content: center; gap: 0.8rem; padding: 1.2rem 1.5rem; background: rgba(255, 255, 255, 0.05); color: white; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 12px; cursor: pointer; font-weight: 600; transition: all 0.3s ease; text-decoration: none; }
        .profile-action-btn:hover { background: rgba(255, 215, 0, 0.1); border-color: rgba(255, 215, 0, 0.3); transform: translateY(-2px); box-shadow: 0 4px 12px rgba(255, 215, 0, 0.2); }
        .action-icon { width: 20px; height: 20px; }
        .settings-container { max-width: 800px; margin: 0 auto; }
        .settings-header { text-align: center; margin-bottom: 3rem; }
        .settings-title { font-size: 3rem; color: #ffd700; margin-bottom: 1rem; text-shadow: 0 0 15px rgba(255, 215, 0, 0.3); }
        .settings-subtitle { font-size: 1.2rem; color: #cccccc; }
        .settings-content { display: grid; gap: 2rem; }
        .settings-card { background: rgba(255, 255, 255, 0.05); padding: 2.5rem; border-radius: 20px; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2); border: 1px solid rgba(255, 215, 0, 0.1); backdrop-filter: blur(10px); }
        .settings-card-title { font-size: 1.5rem; color: #ffd700; margin-bottom: 1.5rem; font-weight: 600; }
        .settings-form { display: flex; flex-direction: column; gap: 1.5rem; }
        .settings-form .form-group { display: flex; flex-direction: column; gap: 0.5rem; }
        .settings-form label { color: #ffd700; font-weight: 600; font-size: 0.9rem; }
        .settings-form input { padding: 0.8rem 1rem; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; background: rgba(255, 255, 255, 0.1); color: white; font-size: 0.9rem; transition: all 0.3s ease; }
        .settings-form input:focus { outline: none; border-color: #ffd700; background: rgba(255, 255, 255, 0.15); box-shadow: 0 0 0 2px rgba(255, 215, 0, 0.1); }
        .settings-save-btn { background: linear-gradient(45deg, #4CAF50, #45a049); color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; align-self: flex-start; }
        .settings-save-btn:hover { background: linear-gradient(45deg, #45a049, #3d8b40); transform: translateY(-2px); box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4); }
        .account-info { display: flex; flex-direction: column; gap: 1rem; }
        .info-item { display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px; border: 1px solid rgba(255, 255, 255, 0.1); }
        .info-label { color: #ffd700; font-weight: 600; }
        .info-value { color: #ffffff; font-weight: 500; }
        .danger-zone { border-color: rgba(244, 67, 54, 0.3); }
        .danger-warning { color: #f44336; margin-bottom: 1.5rem; font-size: 0.9rem; }
        .danger-btn { background: rgba(244, 67, 54, 0.1); color: #f44336; border: 1px solid rgba(244, 67, 54, 0.3); padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s ease; }
        .danger-btn:hover { background: rgba(244, 67, 54, 0.2); transform: translateY(-2px); box-shadow: 0 4px 12px rgba(244, 67, 54, 0.2); }
        .modal-body { margin-bottom: 2rem; }
        .modal-body p { color: #cccccc; line-height: 1.6; }
        .modal-footer { display: flex; gap: 1rem; justify-content: flex-end; }
        .modal-btn { padding: 0.8rem 1.5rem; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; }
        .modal-btn.secondary { background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid rgba(255, 255, 255, 0.2); }
        .modal-btn.secondary:hover { background: rgba(255, 255, 255, 0.15); }
        .modal-btn.danger { background: rgba(244, 67, 54, 0.1); color: #f44336; border: 1px solid rgba(244, 67, 54, 0.3); }
        .modal-btn.danger:hover { background: rgba(244, 67, 54, 0.2); }
        @media (max-width: 768px) {
            .navbar { flex-direction: column; gap: 1rem; padding: 1rem; }
            .nav-menu { flex-wrap: wrap; justify-content: center; }
            .hero-title { font-size: 2.5rem; }
            .script-title, .profile-title, .settings-title { font-size: 2rem; }
            .features-grid { grid-template-columns: 1fr; }
            .voting-section { flex-direction: column; align-items: center; }
            .container { padding: 1rem; }
            .modal-content { margin: 10% auto; width: 95%; padding: 1.5rem; }
            .game-link-section { padding: 1.5rem; }
            .game-link-title { font-size: 1.3rem; }
            .profile-stats { grid-template-columns: 1fr; }
            .profile-actions { grid-template-columns: 1fr; }
            .modal-footer { flex-direction: column; }
            .info-item { flex-direction: column; align-items: flex-start; gap: 0.5rem; }
        }
        @keyframes universalRipple { 0% { transform: scale(0); opacity: 1; } 50% { opacity: 0.7; } 100% { transform: scale(3); opacity: 0; } }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @keyframes slideOut { from { transform: translateX(0); opacity: 1; } to { transform: translateX(100%); opacity: 0; } }
        .forgot-password-link { margin-top: 1rem; text-align: center; }
        .crop-container { max-width: 400px; margin: 0 auto; }
        .crop-area { width: 100%; height: 300px; background: #2d2d2d; border: 2px dashed #ffd700; border-radius: 10px; margin: 1rem 0; overflow: hidden; position: relative; }
        .crop-preview { width: 150px; height: 150px; border-radius: 50%; border: 3px solid #ffd700; margin: 1rem auto; overflow: hidden; }
        .crop-controls { display: flex; gap: 1rem; justify-content: center; margin: 1rem 0; }
        .crop-btn { padding: 0.5rem 1rem; border: none; border-radius: 5px; cursor: pointer; font-weight: 600; }
        .crop-btn.primary { background: #ffd700; color: #1a1a1a; }
        .crop-btn.secondary { background: #666; color: white; }
    </style>
</head>
<body>
    <!-- Lemon Doodles Background -->
    <div class="lemon-doodles">
        <div class="lemon lemon1">üçã</div>
        <div class="lemon lemon2">üçã</div>
        <div class="lemon lemon3">üçã</div>
        <div class="lemon lemon4">üçã</div>
        <div class="lemon lemon5">üçã</div>
    </div>

    <!-- All Modals -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-header">
                <img src="https://imagizer.imageshack.com/img922/3774/Sk58gA.png" alt="Lemon Hub" class="modal-logo">
                <h2>Login to Lemon Hub</h2>
            </div>
            <form id="emailLoginForm" class="auth-form">
                <div class="form-group">
                    <input type="email" id="loginEmail" placeholder="Email" required>
                </div>
                <div class="form-group">
                    <input type="password" id="loginPassword" placeholder="Password" required>
                </div>
                <button type="submit" class="auth-btn primary-btn">Login</button>
            </form>
            <p class="auth-switch">Don't have an account? <a href="#Signup" id="showSignup">Sign up</a></p>
            <p class="auth-switch forgot-password-link"><a href="#" onclick="showForgotPasswordModal()">Forgot Password?</a></p>
        </div>
    </div>

    <div id="signupModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-header">
                <img src="https://imagizer.imageshack.com/img922/3774/Sk58gA.png" alt="Lemon Hub" class="modal-logo">
                <h2>Join Lemon Hub</h2>
            </div>
            <form id="emailSignupForm" class="auth-form">
                <div class="form-group">
                    <input type="text" id="signupUsername" placeholder="Username" required>
                </div>
                <div class="form-group">
                    <input type="email" id="signupEmail" placeholder="Email" required>
                </div>
                <div class="form-group">
                    <input type="password" id="signupPassword" placeholder="Password" required>
                </div>
                <button type="submit" class="auth-btn primary-btn">Create Account</button>
            </form>
            <p class="auth-switch">Already have an account? <a href="#Login" id="showLogin">Login</a></p>
        </div>
    </div>

    <div id="forgotPasswordModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-header">
                <img src="https://imagizer.imageshack.com/img922/3774/Sk58gA.png" alt="Lemon Hub" class="modal-logo">
                <h2>Reset Password</h2>
            </div>
            <form id="forgotPasswordForm" class="auth-form">
                <div class="form-group">
                    <input type="email" id="forgotEmail" placeholder="Enter your email" required>
                </div>
                <button type="submit" class="auth-btn primary-btn">Send Reset Link</button>
            </form>
        </div>
    </div>

    <div id="resetPasswordModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-header">
                <img src="https://imagizer.imageshack.com/img922/3774/Sk58gA.png" alt="Lemon Hub" class="modal-logo">
                <h2>Create New Password</h2>
            </div>
            <form id="resetPasswordForm" class="auth-form">
                <div class="form-group">
                    <input type="password" id="newPasswordReset" placeholder="New Password" required>
                </div>
                <div class="form-group">
                    <input type="password" id="confirmPasswordReset" placeholder="Confirm New Password" required>
                </div>
                <button type="submit" class="auth-btn primary-btn">Change Password</button>
            </form>
        </div>
    </div>

    <div id="cropAvatarModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-header">
                <h2>Crop Profile Picture</h2>
            </div>
            <div class="crop-container">
                <div class="crop-area" id="cropArea">
                    <img id="cropImage" style="max-width: 100%; max-height: 100%;">
                </div>
                <div class="crop-preview">
                    <img id="cropPreview" style="width: 100%; height: 100%; object-fit: cover;">
                </div>
                <div class="crop-controls">
                    <button class="crop-btn secondary" onclick="hideCropModal()">Cancel</button>
                    <button class="crop-btn primary" onclick="saveCroppedAvatar()">Save</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Dropdown -->
    <div id="profileDropdown" class="profile-dropdown">
        <div class="dropdown-item" onclick="navigateTo('#Profile')">
            <svg class="dropdown-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
            Profile
        </div>
        <div class="dropdown-item" onclick="navigateTo('#Settings')">
            <svg class="dropdown-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
            </svg>
            Settings
        </div>
        <div class="dropdown-divider"></div>
        <div class="dropdown-item logout" onclick="logout()">
            <svg class="dropdown-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/>
            </svg>
            Log out
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Delete Account</h2>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently lost.</p>
                <div class="form-group">
                    <input type="password" id="deletePassword" placeholder="Enter your password to confirm" required>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn secondary" onclick="hideDeleteConfirmation()">Cancel</button>
                <button class="modal-btn danger" onclick="deleteAccount()">Delete Account</button>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-brand">
            <img src="https://imagizer.imageshack.com/img922/3774/Sk58gA.png" alt="Lemon Hub" class="logo">
            <span class="brand-name">Lemon Hub</span>
        </div>
        <div class="nav-menu">
            <button class="nav-btn active" onclick="navigateTo('#Home')">Home</button>
            <button class="nav-btn" onclick="navigateTo('#Script')">Script</button>
            <div id="authSection">
                <button id="authButton" class="nav-btn auth" onclick="navigateTo('#Login')">Login</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container">
        <!-- Home Section -->
        <section id="home-section" class="section active">
            <div class="hero">
                <h1 class="hero-title">Welcome to Lemon Hub</h1>
                <p class="hero-subtitle">Your Best Script Is Here</p>
                
                <div class="discord-invitation">
                    <div class="invitation-card">
                        <div class="invitation-header">
                            <img src="https://imagizer.imageshack.com/img922/3774/Sk58gA.png" alt="Lemon Hub" class="server-icon">
                            <div class="server-info">
                                <h3 class="server-name">Lemon Hub</h3>
                            </div>
                        </div>
                        
                        <div class="invitation-body">
                            <p class="invitation-text">You've been invited to join</p>
                            <h2 class="server-title">Lemon Hub Discord Server</h2>
                            <p class="invitation-desc">Best Steal a Brainrot Script & community</p>
                        </div>
                        
                        <div class="invitation-footer">
                            <a href="https://discord.gg/gnR4u82wkJ" target="_blank" class="accept-invite-btn" onclick="activateAd()">
                                <svg class="discord-icon" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.191.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/>
                                </svg>
                                Accept Invitation
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="features">
                <h2 class="features-title">Features</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M13 3v10h8V3h-8zM3 21h8v-6H3v6zM3 11h8V3H3v8z"/>
                            </svg>
                        </div>
                        <h3>Advanced Steal Mechanics</h3>
                        <p>Premium stealing system with brainrot integration for maximum efficiency</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                            </svg>
                        </div>
                        <h3>Auto Server Joiner</h3>
                        <p>Automatically join servers with brainrot features - contact owner for purchase</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
                            </svg>
                        </div>
                        <h3>Advanced Desync</h3>
                        <p>Premium desync system optimized for stealing operations</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M7 2v11h3v9l7-12h-4l4-8H7z"/>
                            </svg>
                        </div>
                        <h3>Premium Features</h3>
                        <p>Exclusive tools and utilities for enhanced gameplay experience</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Script Section -->
        <section id="script-section" class="section">
            <div class="script-container">
                <h1 class="script-title">Lemon Hub Script</h1>
                <img src="https://imagizer.imageshack.com/img922/3774/Sk58gA.png" alt="Lemon Hub Script" class="script-logo">
                
                <div class="script-box">
                    <div class="script-header">
                        <span class="script-label">Script Code</span>
                        <button class="copy-btn" onclick="copyScript(); activateAd();">
                            <svg class="copy-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                            </svg>
                            Copy
                        </button>
                    </div>
                    <div class="script-code" id="script-code">
loadstring(game:HttpGet("https://api.luarmor.net/files/v3/loaders/2341c827712daf923191e93377656f67.lua"))()
                    </div>
                </div>
                
                <p class="script-instructions">Copy the script above and paste it into your executor!</p>
                
                <!-- Game Link and Voting Section -->
                <div class="game-link-section">
                    <h2 class="game-link-title">Play Steal A Brainrot</h2>
                    <a href="https://www.roblox.com/games/109983668079237/Steal-a-Brainrot" target="_blank" class="game-link-btn" onclick="activateAd()">
                        <svg class="game-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H3V8h18v8z"/>
                            <path d="M12 15c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z"/>
                        </svg>
                        Play Now on Roblox
                    </a>
                    
                    <!-- Voting Section -->
                    <div class="voting-section">
                        <button class="vote-btn thumbs-up ripple" onclick="vote('thumbsUp')">
                            <svg class="vote-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z"/>
                            </svg>
                            Like
                            <span class="vote-count" id="thumbsUpCount">0</span>
                        </button>
                        
                        <button class="vote-btn thumbs-down ripple" onclick="vote('thumbsDown')">
                            <svg class="vote-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"/>
                            </svg>
                            Dislike
                            <span class="vote-count" id="thumbsDownCount">0</span>
                        </button>
                        
                        <button class="vote-btn favorite ripple" onclick="vote('favorite')">
                            <svg class="vote-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                            </svg>
                            Favorite
                            <span class="vote-count" id="favoriteCount">0</span>
                        </button>
                    </div>
                </div>
                
                <div class="executor-compatibility">
                    <div class="lemon-float lemon-float-1">LH</div>
                    <div class="lemon-float lemon-float-2">LH</div>
                    <div class="lemon-float lemon-float-3">LH</div>
                    
                    <h3 class="compatibility-title">Executor Compatibility</h3>
                    <div class="compatibility-list">
                        <div class="executor-item supported ripple" onclick="addRipple(event); activateAd();">
                            <span class="status-icon">‚úÖ</span>
                            <span class="executor-name">Swift</span>
                        </div>
                        <div class="executor-item supported ripple" onclick="addRipple(event); activateAd();">
                            <span class="status-icon">‚úÖ</span>
                            <span class="executor-name">Potassium</span>
                        </div>
                        <div class="executor-item supported ripple" onclick="addRipple(event); activateAd();">
                            <span class="status-icon">‚úÖ</span>
                            <span class="executor-name">Wave</span>
                        </div>
                        <div class="executor-item supported ripple" onclick="addRipple(event); activateAd();">
                            <span class="status-icon">‚úÖ</span>
                            <span class="executor-name">Zenith</span>
                        </div>
                        <div class="executor-item supported ripple" onclick="addRipple(event); activateAd();">
                            <span class="status-icon">‚úÖ</span>
                            <span class="executor-name">Bunni</span>
                        </div>
                        <div class="executor-item supported ripple" onclick="addRipple(event); activateAd();">
                            <span class="status-icon">‚úÖ</span>
                            <span class="executor-name">Delta</span>
                        </div>
                        <div class="executor-item supported ripple" onclick="addRipple(event); activateAd();">
                            <span class="status-icon">‚úÖ</span>
                            <span class="executor-name">Seliware</span>
                        </div>
                        <div class="executor-item supported ripple" onclick="addRipple(event); activateAd();">
                            <span class="status-icon">‚úÖ</span>
                            <span class="executor-name">Ronix</span>
                        </div>
                        <div class="executor-item krnl-android ripple" onclick="addRipple(event); activateAd();">
                            <span class="status-icon">‚úÖ</span>
                            <span class="executor-name">Krnl Android</span>
                        </div>
                        <div class="executor-item krnl-ios ripple" onclick="addRipple(event); activateAd();">
                            <span class="status-icon">‚ö†Ô∏è</span>
                            <span class="executor-name">Krnl iOS</span>
                        </div>
                        <div class="executor-item detected ripple" onclick="addRipple(event); activateAd();">
                            <span class="status-icon">‚ö†Ô∏è</span>
                            <span class="executor-name">Xeno</span>
                        </div>
                        <div class="executor-item detected ripple" onclick="addRipple(event); activateAd();">
                            <span class="status-icon">‚ö†Ô∏è</span>
                            <span class="executor-name">Solara</span>
                        </div>
                        <div class="executor-item detected ripple" onclick="addRipple(event); activateAd();">
                            <span class="status-icon">‚ö†Ô∏è</span>
                            <span class="executor-name">JJspoit</span>
                        </div>
                    </div>
                    
                    <div class="compatibility-legend">
                        <div class="legend-item ripple" onclick="addRipple(event); activateAd();">
                            <span class="legend-icon">‚úÖ</span>
                            <span class="legend-text">Supported Executor and working for Lemon Hub</span>
                        </div>
                        <div class="legend-item ripple" onclick="addRipple(event); activateAd();">
                            <span class="legend-icon">‚ö†Ô∏è</span>
                            <span class="legend-text">Working BUT detected by anti-cheat systems</span>
                        </div>
                        <div class="legend-item ripple" onclick="addRipple(event); activateAd();">
                            <span class="legend-icon">‚ùå</span>
                            <span class="legend-text">Non-Supported Executor and is not working for Lemon Hub</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Section -->
        <section id="profile-section" class="section">
            <div class="profile-container">
                <div class="profile-header">
                    <h1 class="profile-title">Your Profile</h1>
                    <p class="profile-subtitle">Manage your account settings and preferences</p>
                </div>
                
                <div class="profile-content">
                    <div class="profile-card">
                        <div class="profile-avatar-section">
                            <div class="avatar-container">
                                <img id="profileAvatar" src="https://static.xx.fbcdn.net/rsrc.php/v1/yR/r/tInzwsw2pVX.png" alt="Profile" class="profile-avatar">
                                <div class="avatar-overlay" onclick="document.getElementById('avatarInput').click()">
                                    <svg class="camera-icon" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
                                    </svg>
                                </div>
                            </div>
                            <input type="file" id="avatarInput" accept="image/*" style="display: none;" onchange="handleAvatarUpload(event)">
                            <h2 id="profileUsername" class="profile-username">Guest User</h2>
                            <p id="profileEmail" class="profile-email">guest@example.com</p>
                            <button class="change-avatar-btn" onclick="document.getElementById('avatarInput').click()">
                                Change Profile Picture
                            </button>
                        </div>
                        
                        <div class="profile-stats">
                            <div class="stat-item">
                                <div class="stat-number" id="likesCount">0</div>
                                <div class="stat-label">Likes Given</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" id="favoritesCount">0</div>
                                <div class="stat-label">Favorites</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" id="memberSince">Today</div>
                                <div class="stat-label">Member Since</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="profile-actions">
                        <button class="profile-action-btn" onclick="navigateTo('#Settings')">
                            <svg class="action-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
                            </svg>
                            Account Settings
                        </button>
                        
                        <button class="profile-action-btn" onclick="navigateTo('#Script')">
                            <svg class="action-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
                            </svg>
                            View Script
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Settings Section -->
        <section id="settings-section" class="section">
            <div class="settings-container">
                <div class="settings-header">
                    <h1 class="settings-title">Account Settings</h1>
                    <p class="settings-subtitle">Manage your account preferences and security</p>
                </div>
                
                <div class="settings-content">
                    <div class="settings-card">
                        <h3 class="settings-card-title">Change Password</h3>
                        <form id="changePasswordForm" class="settings-form">
                            <div class="form-group">
                                <label for="currentPassword">Current Password</label>
                                <input type="password" id="currentPassword" required>
                            </div>
                            <div class="form-group">
                                <label for="newPassword">New Password</label>
                                <input type="password" id="newPassword" required>
                            </div>
                            <div class="form-group">
                                <label for="confirmPassword">Confirm New Password</label>
                                <input type="password" id="confirmPassword" required>
                            </div>
                            <button type="submit" class="settings-save-btn">Update Password</button>
                        </form>
                    </div>
                    
                    <div class="settings-card">
                        <h3 class="settings-card-title">Account Information</h3>
                        <div class="account-info">
                            <div class="info-item">
                                <span class="info-label">Username:</span>
                                <span id="settingsUsername" class="info-value">Guest User</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Email:</span>
                                <span id="settingsEmail" class="info-value">guest@example.com</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Member Since:</span>
                                <span id="settingsMemberSince" class="info-value">Today</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-card danger-zone">
                        <h3 class="settings-card-title">Danger Zone</h3>
                        <p class="danger-warning">These actions are irreversible. Please proceed with caution.</p>
                        <button class="danger-btn" onclick="showDeleteConfirmation()">
                            Delete Account
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Ad Container -->
    <div id="ad-container" class="ad-container"></div>

    <script>
        // COMPLETE JAVASCRIPT - COMBINED
        const API_BASE_URL = window.location.origin + '/api';
        
        let adLoaded = false;
        let secondAdLoaded = false;
        let currentUser = null;
        let voteCounts = {
            thumbsUp: 0,
            thumbsDown: 0,
            favorite: 0
        };
        const DEFAULT_AVATAR = 'https://static.xx.fbcdn.net/rsrc.php/v1/yR/r/tInzwsw2pVX.png';

        // Load data from localStorage and server
        async function loadAppData() {
            const savedVotes = localStorage.getItem('lemonHubVotes');
            const savedUser = localStorage.getItem('lemonHubUser');
            const token = localStorage.getItem('lemonHubToken');
            
            if (savedVotes) {
                voteCounts = JSON.parse(savedVotes);
            }
            
            if (token && savedUser) {
                currentUser = JSON.parse(savedUser);
                await verifyToken();
            }
            
            await loadVotesFromServer();
            updateVoteDisplays();
            updateVoteButtonStates();
            updateAuthUI();
            updateProfileUI();
        }

        // Verify token validity
        async function verifyToken() {
            const token = localStorage.getItem('lemonHubToken');
            if (!token) return;

            try {
                const response = await fetch(`${API_BASE_URL}/profile`, {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });

                if (!response.ok) {
                    throw new Error('Token invalid');
                }

                const data = await response.json();
                currentUser = data.user;
                localStorage.setItem('lemonHubUser', JSON.stringify(data.user));
            } catch (error) {
                console.error('Token verification failed:', error);
                localStorage.removeItem('lemonHubToken');
                localStorage.removeItem('lemonHubUser');
                currentUser = null;
            }
        }

        // Load votes from server
        async function loadVotesFromServer() {
            try {
                const response = await fetch(`${API_BASE_URL}/votes`);
                if (response.ok) {
                    const data = await response.json();
                    voteCounts = data.votes;
                }
            } catch (error) {
                console.error('Failed to load votes:', error);
            }
        }

        // Save data to localStorage
        function saveAppData() {
            localStorage.setItem('lemonHubVotes', JSON.stringify(voteCounts));
            if (currentUser) {
                localStorage.setItem('lemonHubUser', JSON.stringify(currentUser));
            }
        }

        // Update vote count displays
        function updateVoteDisplays() {
            document.getElementById('thumbsUpCount').textContent = voteCounts.thumbsUp;
            document.getElementById('thumbsDownCount').textContent = voteCounts.thumbsDown;
            document.getElementById('favoriteCount').textContent = voteCounts.favorite;
        }

        // Update vote button states
        function updateVoteButtonStates() {
            const thumbsUpBtn = document.querySelector('.vote-btn.thumbs-up');
            const thumbsDownBtn = document.querySelector('.vote-btn.thumbs-down');
            const favoriteBtn = document.querySelector('.vote-btn.favorite');
            
            if (!currentUser) {
                thumbsUpBtn.disabled = true;
                thumbsDownBtn.disabled = true;
                favoriteBtn.disabled = true;
                
                [thumbsUpBtn, thumbsDownBtn, favoriteBtn].forEach(btn => {
                    btn.style.opacity = '0.6';
                    btn.style.cursor = 'not-allowed';
                });
                return;
            }
            
            if (currentUser.votes && currentUser.votes.thumbsUp) {
                thumbsUpBtn.disabled = true;
                thumbsUpBtn.style.opacity = '0.6';
                thumbsUpBtn.style.cursor = 'not-allowed';
            }
            
            if (currentUser.votes && currentUser.votes.thumbsDown) {
                thumbsDownBtn.disabled = true;
                thumbsDownBtn.style.opacity = '0.6';
                thumbsDownBtn.style.cursor = 'not-allowed';
            }
            
            if (currentUser.votes && currentUser.votes.favorite) {
                favoriteBtn.disabled = true;
                favoriteBtn.style.opacity = '0.6';
                favoriteBtn.style.cursor = 'not-allowed';
            }
        }

        // Handle voting with server integration
        async function vote(type) {
            if (!currentUser) {
                alert('Please login to vote!');
                navigateTo('#Login');
                return;
            }
            
            if (currentUser.votes && currentUser.votes[type]) {
                alert(`You can only ${type === 'thumbsUp' ? 'like' : type === 'thumbsDown' ? 'dislike' : 'favorite'} once per account!`);
                return;
            }
            
            try {
                const token = localStorage.getItem('lemonHubToken');
                const response = await fetch(`${API_BASE_URL}/vote`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({ type })
                });

                const data = await response.json();

                if (!response.ok) {
                    throw new Error(data.error || 'Vote failed');
                }

                // Update local state
                voteCounts = data.votes;
                currentUser.votes = data.userVotes;
                
                updateVoteDisplays();
                updateVoteButtonStates();
                updateProfileStats();
                saveAppData();
                activateAd();
                
                // Visual feedback
                const button = event.currentTarget;
                button.style.transform = 'scale(1.1)';
                setTimeout(() => {
                    button.style.transform = 'scale(1)';
                }, 200);

            } catch (error) {
                console.error('Vote error:', error);
                alert(error.message);
            }
        }

        // Enhanced Authentication Functions
        async function handleEmailLogin(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!email || !password) {
                alert('Please fill in all fields');
                return;
            }
            
            try {
                const response = await fetch(`${API_BASE_URL}/auth/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ email, password })
                });

                const data = await response.json();

                if (!response.ok) {
                    throw new Error(data.error || 'Login failed');
                }

                handleUserLogin(data.user, data.token);
                hideModals();

            } catch (error) {
                console.error('Login error:', error);
                alert(error.message);
            }
        }

        async function handleEmailSignup(event) {
            event.preventDefault();
            const username = document.getElementById('signupUsername').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            
            if (!username || !email || !password) {
                alert('Please fill in all fields');
                return;
            }

            if (password.length < 6) {
                alert('Password must be at least 6 characters long');
                return;
            }
            
            try {
                const response = await fetch(`${API_BASE_URL}/auth/signup`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ username, email, password })
                });

                const data = await response.json();

                if (!response.ok) {
                    throw new Error(data.error || 'Signup failed');
                }

                showNotification('Account created! Please check your email for verification.');
                hideModals();
                
                // Show verification modal
                showVerificationModal(email);

            } catch (error) {
                console.error('Signup error:', error);
                alert(error.message);
            }
        }

        // Verification Modal
        function showVerificationModal(email) {
            const modal = document.createElement('div');
            modal.className = 'modal';
            modal.style.display = 'block';
            modal.innerHTML = `
                <div class="modal-content">
                    <span class="close" onclick="this.parentElement.parentElement.remove()">&times;</span>
                    <div class="modal-header">
                        <img src="https://imagizer.imageshack.com/img922/3774/Sk58gA.png" alt="Lemon Hub" class="modal-logo">
                        <h2>Verify Your Email</h2>
                    </div>
                    <div class="auth-form">
                        <p>We've sent a verification code to your email. Please enter it below:</p>
                        <div class="form-group">
                            <input type="text" id="verificationCode" placeholder="Enter verification code" required>
                        </div>
                        <button type="button" class="auth-btn primary-btn" onclick="verifyAccount('${email}')">Verify Account</button>
                        <p class="auth-switch">Didn't receive the code? <a href="#" onclick="resendVerification('${email}')">Resend</a></p>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        async function verifyAccount(email) {
            const code = document.getElementById('verificationCode').value;
            
            if (!code) {
                alert('Please enter the verification code');
                return;
            }

            try {
                const response = await fetch(`${API_BASE_URL}/auth/verify`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ email, code })
                });

                const data = await response.json();

                if (!response.ok) {
                    throw new Error(data.error || 'Verification failed');
                }

                handleUserLogin(data.user, data.token);
                document.querySelector('.modal').remove();
                showNotification('Account verified successfully!');

            } catch (error) {
                console.error('Verification error:', error);
                alert(error.message);
            }
        }

        // Forgot Password
        async function handleForgotPassword(event) {
            if (event) event.preventDefault();
            const email = document.getElementById('forgotEmail').value;
            
            if (!email) {
                alert('Please enter your email address');
                return;
            }

            try {
                const response = await fetch(`${API_BASE_URL}/auth/forgot-password`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ email })
                });

                const data = await response.json();

                if (!response.ok) {
                    throw new Error(data.error || 'Password reset failed');
                }

                alert('Password reset email sent! Please check your inbox.');
                hideModals();

            } catch (error) {
                console.error('Forgot password error:', error);
                alert(error.message);
            }
        }

        // Reset Password
        async function handleResetPassword(event) {
            event.preventDefault();
            const newPassword = document.getElementById('newPasswordReset').value;
            const confirmPassword = document.getElementById('confirmPasswordReset').value;
            const urlParams = new URLSearchParams(window.location.hash.substring(1));
            const token = urlParams.get('token');

            if (!token) {
                alert('Invalid reset link');
                return;
            }

            if (!newPassword || !confirmPassword) {
                alert('Please fill in all fields');
                return;
            }

            if (newPassword !== confirmPassword) {
                alert('Passwords do not match');
                return;
            }

            if (newPassword.length < 6) {
                alert('Password must be at least 6 characters long');
                return;
            }

            try {
                const response = await fetch(`${API_BASE_URL}/auth/reset-password`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ token, newPassword, confirmPassword })
                });

                const data = await response.json();

                if (!response.ok) {
                    throw new Error(data.error || 'Password reset failed');
                }

                alert('Password reset successfully! You can now login with your new password.');
                hideModals();
                navigateTo('#Login');

            } catch (error) {
                console.error('Reset password error:', error);
                alert(error.message);
            }
        }

        // Change Password
        async function handlePasswordChange(event) {
            event.preventDefault();
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (!currentPassword || !newPassword || !confirmPassword) {
                alert('Please fill in all fields');
                return;
            }

            if (newPassword.length < 6) {
                alert('New password must be at least 6 characters long');
                return;
            }

            if (newPassword !== confirmPassword) {
                alert('New passwords do not match');
                return;
            }

            try {
                const token = localStorage.getItem('lemonHubToken');
                const response = await fetch(`${API_BASE_URL}/auth/change-password`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({ currentPassword, newPassword, confirmPassword })
                });

                const data = await response.json();

                if (!response.ok) {
                    throw new Error(data.error || 'Password change failed');
                }

                event.target.reset();
                showNotification('Password updated successfully!');

            } catch (error) {
                console.error('Change password error:', error);
                alert(error.message);
            }
        }

        // Delete Account
        async function deleteAccount() {
            const password = document.getElementById('deletePassword').value;
            
            if (!password) {
                alert('Please enter your password to confirm deletion');
                return;
            }

            try {
                const token = localStorage.getItem('lemonHubToken');
                const response = await fetch(`${API_BASE_URL}/auth/delete-account`, {
                    method: 'DELETE',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({ password })
                });

                const data = await response.json();

                if (!response.ok) {
                    throw new Error(data.error || 'Account deletion failed');
                }

                // Clear local storage
                currentUser = null;
                localStorage.removeItem('lemonHubUser');
                localStorage.removeItem('lemonHubToken');
                updateAuthUI();
                hideDeleteConfirmation();
                showNotification('Account deleted successfully');
                
                // Redirect to home
                setTimeout(() => {
                    window.location.href = window.location.origin + window.location.pathname;
                }, 1000);

            } catch (error) {
                console.error('Delete account error:', error);
                alert(error.message);
            }
        }

        // Handle user login
        function handleUserLogin(user, token) {
            currentUser = user;
            localStorage.setItem('lemonHubToken', token);
            localStorage.setItem('lemonHubUser', JSON.stringify(user));
            
            updateAuthUI();
            updateProfileUI();
            saveAppData();
            
            showNotification(`Welcome, ${user.name || user.username}!`);
            
            setTimeout(() => {
                window.location.reload();
            }, 1000);
        }

        // Logout
        function logout() {
            currentUser = null;
            localStorage.removeItem('lemonHubToken');
            localStorage.removeItem('lemonHubUser');
            updateAuthUI();
            saveAppData();
            showNotification('Logged out successfully');
            
            setTimeout(() => {
                window.location.reload();
            }, 1000);
        }

        // Update Auth UI
        function updateAuthUI() {
            const authSection = document.getElementById('authSection');
            
            if (currentUser) {
                authSection.innerHTML = `
                    <div class="user-profile" onclick="toggleProfileDropdown()">
                        <img src="${currentUser.avatar || DEFAULT_AVATAR}" alt="${currentUser.username}" class="user-avatar">
                        <span class="user-name">${currentUser.username}</span>
                    </div>
                `;
            } else {
                authSection.innerHTML = `
                    <button id="authButton" class="nav-btn auth" onclick="navigateTo('#Login')">Login</button>
                `;
            }
            
            updateVoteButtonStates();
        }

        // Update Profile UI
        function updateProfileUI() {
            if (!currentUser) return;
            
            document.getElementById('profileUsername').textContent = currentUser.username;
            document.getElementById('profileEmail').textContent = currentUser.email;
            document.getElementById('profileAvatar').src = currentUser.avatar || DEFAULT_AVATAR;
            
            document.getElementById('settingsUsername').textContent = currentUser.username;
            document.getElementById('settingsEmail').textContent = currentUser.email;
            document.getElementById('settingsMemberSince').textContent = new Date(currentUser.memberSince).toLocaleDateString();
            
            updateProfileStats();
        }

        function updateProfileStats() {
            if (!currentUser) return;
            
            const likesCount = (currentUser.votes && currentUser.votes.thumbsUp) ? 1 : 0;
            const favoritesCount = (currentUser.votes && currentUser.votes.favorite) ? 1 : 0;
            
            document.getElementById('likesCount').textContent = likesCount;
            document.getElementById('favoritesCount').textContent = favoritesCount;
            document.getElementById('memberSince').textContent = new Date(currentUser.memberSince).toLocaleDateString();
        }

        // Profile Dropdown
        function toggleProfileDropdown() {
            const dropdown = document.getElementById('profileDropdown');
            dropdown.classList.toggle('show');
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const dropdown = document.getElementById('profileDropdown');
            const profile = document.querySelector('.user-profile');
            
            if (profile && !profile.contains(event.target) && dropdown && !dropdown.contains(event.target)) {
                dropdown.classList.remove('show');
            }
        });

        // Avatar Upload with Crop
        function handleAvatarUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            if (!file.type.startsWith('image/')) {
                alert('Please select an image file');
                return;
            }
            
            if (file.size > 5 * 1024 * 1024) {
                alert('Please select an image smaller than 5MB');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                showCropModal(e.target.result);
            };
            reader.readAsDataURL(file);
        }

        function showCropModal(imageSrc) {
            document.getElementById('cropImage').src = imageSrc;
            document.getElementById('cropPreview').src = imageSrc;
            document.getElementById('cropAvatarModal').style.display = 'block';
        }

        function hideCropModal() {
            document.getElementById('cropAvatarModal').style.display = 'none';
        }

        function saveCroppedAvatar() {
            // Simple implementation - in production, use a proper cropper library
            const imageSrc = document.getElementById('cropImage').src;
            currentUser.avatar = imageSrc;
            updateAuthUI();
            updateProfileUI();
            saveAppData();
            hideCropModal();
            showNotification('Profile picture updated successfully!');
            
            // Update on server
            updateProfileOnServer();
        }

        async function updateProfileOnServer() {
            try {
                const token = localStorage.getItem('lemonHubToken');
                const response = await fetch(`${API_BASE_URL}/profile`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({
                        avatar: currentUser.avatar,
                        username: currentUser.username
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    currentUser = data.user;
                    localStorage.setItem('lemonHubUser', JSON.stringify(data.user));
                }
            } catch (error) {
                console.error('Profile update error:', error);
            }
        }

        // Navigation System
        function navigateTo(hash) {
            window.location.hash = hash;
            showSection(hash);
            document.getElementById('profileDropdown').classList.remove('show');
            activateAd();
            
            // Handle reset password flow
            if (hash.includes('retrieve')) {
                showResetPasswordModal();
            }
        }

        function showSection(hash) {
            document.querySelectorAll('.section').forEach(sec => {
                sec.classList.remove('active');
            });
            
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            let sectionId;
            if (hash === '#Home' || hash === '') {
                sectionId = 'home-section';
                document.querySelector('.nav-btn[onclick="navigateTo(\'#Home\')"]').classList.add('active');
            } else if (hash === '#Script') {
                sectionId = 'script-section';
                document.querySelector('.nav-btn[onclick="navigateTo(\'#Script\')"]').classList.add('active');
            } else if (hash === '#Profile') {
                sectionId = 'profile-section';
            } else if (hash === '#Settings') {
                sectionId = 'settings-section';
            } else if (hash === '#Login') {
                showLoginModal();
                return;
            } else if (hash === '#Signup') {
                showSignupModal();
                return;
            }
            
            const sectionElement = document.getElementById(sectionId);
            if (sectionElement) {
                sectionElement.classList.add('active');
            }
        }

        // Modal Functions
        function showLoginModal() {
            document.getElementById('loginModal').style.display = 'block';
        }

        function showSignupModal() {
            document.getElementById('signupModal').style.display = 'block';
        }

        function showForgotPasswordModal() {
            hideModals();
            document.getElementById('forgotPasswordModal').style.display = 'block';
        }

        function showResetPasswordModal() {
            document.getElementById('resetPasswordModal').style.display = 'block';
        }

        function hideModals() {
            document.querySelectorAll('.modal').forEach(modal => {
                modal.style.display = 'none';
            });
        }

        function showDeleteConfirmation() {
            document.getElementById('deleteModal').style.display = 'block';
        }

        function hideDeleteConfirmation() {
            document.getElementById('deleteModal').style.display = 'none';
        }

        // Copy Script
        function copyScript() {
            const scriptCode = document.getElementById('script-code').textContent;
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(scriptCode).then(function() {
                    showCopyFeedback();
                }, function(err) {
                    fallbackCopyTextToClipboard(scriptCode);
                });
            } else {
                fallbackCopyTextToClipboard(scriptCode);
            }
        }

        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            
            textArea.style.top = "0";
            textArea.style.left = "0";
            textArea.style.position = "fixed";
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showCopyFeedback();
            } catch (err) {
                console.error('Fallback: Oops, unable to copy', err);
            }
            
            document.body.removeChild(textArea);
        }

        function showCopyFeedback() {
            const copyBtn = document.querySelector('.copy-btn');
            const originalText = copyBtn.innerHTML;
            
            copyBtn.innerHTML = '<svg class="copy-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>Copied!';
            copyBtn.style.background = 'linear-gradient(45deg, #45a049, #3d8b40)';
            
            setTimeout(() => {
                copyBtn.innerHTML = originalText;
                copyBtn.style.background = 'linear-gradient(45deg, #4CAF50, #45a049)';
            }, 2000);
        }

        // Ad System
        function activateAd() {
            if (!adLoaded) {
                const script = document.createElement('script');
                script.type = 'text/javascript';
                script.src = '//pl27744551.revenuecpmgate.com/bb/8c/2d/bb8c2d6e31450dd77b72750cfb7d1804.js';
                document.getElementById('ad-container').appendChild(script);
                adLoaded = true;
            }
            
            if (!secondAdLoaded) {
                const secondScript = document.createElement('script');
                secondScript.type = 'text/javascript';
                secondScript.src = '//pl27744551.revenuecpmgate.com/bb/8c/2d/bb8c2d6e31450dd77b72750cfb7d1804.js';
                document.getElementById('script-code').insertAdjacentElement('afterend', secondScript);
                secondAdLoaded = true;
            }
        }

        // Notification System
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: rgba(255, 215, 0, 0.9);
                color: #1a1a1a;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                z-index: 1001;
                font-weight: 600;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                animation: slideIn 0.3s ease-out;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-in';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Ripple Effects
        function createUniversalRipple(event) {
            const size = 50;
            const x = event.clientX - size / 2;
            const y = event.clientY - size / 2;
            
            const ripple = document.createElement('div');
            ripple.style.cssText = `
                position: fixed;
                width: ${size}px;
                height: ${size}px;
                background: radial-gradient(circle, rgba(255, 215, 0, 0.3) 0%, rgba(255, 235, 59, 0.2) 30%, rgba(255, 255, 255, 0.1) 60%, transparent 100%);
                border-radius: 50%;
                transform: scale(0);
                animation: universalRipple 0.6s cubic-bezier(0.4, 0, 0.2, 1);
                left: ${x}px;
                top: ${y}px;
                pointer-events: none;
                z-index: 99999;
            `;
            
            document.body.appendChild(ripple);
            
            setTimeout(() => {
                ripple.remove();
            }, 600);
        }

        function addEnhancedRipple(element, event) {
            if (!element.getBoundingClientRect) return;
            
            const rect = element.getBoundingClientRect();
            const size = 70;
            const x = event.clientX - rect.left - size / 2;
            const y = event.clientY - rect.top - size / 2;
            
            const ripple = document.createElement('div');
            ripple.style.cssText = `
                position: absolute;
                width: ${size}px;
                height: ${size}px;
                background: rgba(255, 255, 255, 0.1);
                border-radius: 50%;
                transform: scale(0);
                animation: universalRipple 0.5s ease-out;
                left: ${x}px;
                top: ${y}px;
                pointer-events: none;
                z-index: 10;
            `;
            
            element.appendChild(ripple);
            
            setTimeout(() => {
                if (ripple.parentNode) {
                    ripple.remove();
                }
            }, 500);
        }

        // Initialize Page
        function initializePage() {
            const interactiveElements = [
                '.nav-btn', '.copy-btn', '.accept-invite-btn', 
                '.executor-item', '.legend-item', '.feature-card',
                '.script-box', '.invitation-card', '.hero',
                '.vote-btn', '.game-link-btn', '.auth-btn',
                '.profile-action-btn', '.change-avatar-btn',
                '.settings-save-btn', '.danger-btn', '.modal-btn',
                'button', 'a'
            ];
            
            interactiveElements.forEach(selector => {
                const elements = document.querySelectorAll(selector);
                elements.forEach(element => {
                    element.style.position = element.style.position || 'relative';
                    element.style.overflow = element.style.overflow || 'hidden';
                    
                    element.addEventListener('click', function(event) {
                        addEnhancedRipple(this, event);
                    });
                });
            });
            
            const lemons = document.querySelectorAll('.lemon, .lemon-float');
            lemons.forEach(lemon => {
                lemon.addEventListener('click', function(event) {
                    event.stopPropagation();
                    this.style.animation = 'none';
                    this.offsetHeight;
                    this.style.animation = this.classList.contains('lemon-float') ? 'floatLemon 2s ease-in-out' : 'float 2s ease-in-out';
                });
            });
        }

        // Setup Modal Events
        function setupModalEvents() {
            document.querySelectorAll('.close').forEach(closeBtn => {
                closeBtn.addEventListener('click', hideModals);
            });
            
            window.addEventListener('click', function(event) {
                if (event.target.classList.contains('modal')) {
                    hideModals();
                }
            });
            
            // Form submissions
            document.getElementById('emailLoginForm').addEventListener('submit', handleEmailLogin);
            document.getElementById('emailSignupForm').addEventListener('submit', handleEmailSignup);
            document.getElementById('forgotPasswordForm').addEventListener('submit', handleForgotPassword);
            document.getElementById('resetPasswordForm').addEventListener('submit', handleResetPassword);
            document.getElementById('changePasswordForm').addEventListener('submit', handlePasswordChange);
            
            // Auth switch links
            document.getElementById('showSignup')?.addEventListener('click', function(e) {
                e.preventDefault();
                hideModals();
                showSignupModal();
            });
            
            document.getElementById('showLogin')?.addEventListener('click', function(e) {
                e.preventDefault();
                hideModals();
                showLoginModal();
            });
        }

        // Handle URL routing
        window.addEventListener('hashchange', function() {
            showSection(window.location.hash);
        });

        // Initialize everything when DOM is loaded
        window.addEventListener('DOMContentLoaded', function() {
            const hash = window.location.hash || '#Home';
            showSection(hash);
            
            loadAppData();
            initializePage();
            setupModalEvents();
            
            // Check for reset password token
            if (window.location.hash.includes('retrieve')) {
                showResetPasswordModal();
            }
        });
    </script>
</body>
</html>
